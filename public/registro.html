<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - SafePlay</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/register.css">
</head>
<body>
<!-- Header minimalista -->
<header class="auth-header">
    <nav class="container">
        <img src="/images/logo1.png" alt="SafePlay" class="logo-pequeno">
        <div class="auth-nav">
            <span>¿Ya tienes cuenta?</span>
            <a href="/login.html" class="btn btn-secondary">Iniciar Sesión</a>
        </div>
    </nav>
</header>

<!-- Main Content -->
<main class="auth-main">
    <div class="auth-container">
        <div class="auth-card">
            <!-- Header del formulario -->
            <div class="auth-header-content">
                <img src="/images/logo1.png" alt="SafePlay">
                <h1>Crear Cuenta</h1>
                <p>Únete a SafePlay y comienza a gestionar tu tiempo de juego</p>
            </div>

            <!-- Selector de tipo de usuario -->
            <div class="user-type-selector" id="userTypeSelector">
                <h2>¿Cómo quieres registrarte?</h2>
                <div class="user-type-options">
                    <button type="button" class="user-type-btn" data-type="jugador">
                        <div class="user-type-icon">🎮</div>
                        <h3>Soy Jugador</h3>
                        <p>Regístrate con tu cuenta de Steam</p>
                        <div class="user-type-badge">Rápido y seguro</div>
                    </button>

                    <button type="button" class="user-type-btn" data-type="supervisor">
                        <div class="user-type-icon">👨‍👩‍👧‍👦</div>
                        <h3>Soy Supervisor</h3>
                        <p>Registro tradicional con formulario</p>
                        <div class="user-type-badge">Control parental</div>
                    </button>
                </div>
            </div>

            <!-- Registro para Jugadores (Steam) -->
            <div class="registro-section" id="registroJugador" style="display: none;">
                <div class="steam-register-info">
                    <h2>🎮 Registro de Jugador</h2>
                    <p>Los jugadores se registran únicamente a través de Steam para garantizar la seguridad y autenticidad de la cuenta.</p>

                    <div class="steam-benefits">
                        <div class="benefit-item">
                            <span class="benefit-icon">✅</span>
                            <span>Registro automático con tus datos de Steam</span>
                        </div>
                        <div class="benefit-item">
                            <span class="benefit-icon">🔒</span>
                            <span>Login seguro sin contraseñas adicionales</span>
                        </div>
                        <div class="benefit-item">
                            <span class="benefit-icon">⚡</span>
                            <span>Acceso instantáneo a tus juegos</span>
                        </div>
                    </div>

                    <button type="button" class="btn btn-steam btn-large" id="steamRegisterBtn">
                        <img src="/images/LogSteam.jpg" alt="Steam" class="steam-icon">
                        <span>Registrarse con Steam</span>
                    </button>

                    <div class="steam-note">
                        <small>Al registrarte con Steam, aceptas nuestros términos y condiciones</small>
                    </div>
                </div>

                <button type="button" class="btn-back" id="backFromJugador">
                    ← Volver a selección
                </button>
            </div>

            <!-- Registro para Supervisores (Formulario tradicional) -->
            <div class="registro-section" id="registroSupervisor" style="display: none;">
                <div class="supervisor-register-info">
                    <h2>👨‍👩‍👧‍👦 Registro de Supervisor</h2>
                    <p>Complete el formulario para crear su cuenta de supervisor y gestionar las cuentas de los jugadores.</p>
                </div>

                <!-- Formulario de registro para supervisores -->
                <form class="auth-form" id="registroForm" method="POST" action="/registro">
                    <input type="hidden" name="rol" value="supervisor">

                    <div class="form-row">
                        <div class="form-group">
                            <label for="nombre">Nombre Completo</label>
                            <input
                                    type="text"
                                    id="nombre"
                                    name="nombre"
                                    placeholder="Ingresa tu nombre completo"
                                    required
                            >
                            <span class="error-message" id="nombre-error"></span>
                        </div>

                        <div class="form-group">
                            <label for="usuario">Nombre de Usuario</label>
                            <input
                                    type="text"
                                    id="usuario"
                                    name="usuario"
                                    placeholder="Elige un nombre de usuario"
                                    required
                            >
                            <span class="error-message" id="usuario-error"></span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="correo">Correo Electrónico</label>
                            <input
                                    type="email"
                                    id="correo"
                                    name="correo"
                                    placeholder="tu@email.com"
                                    required
                            >
                            <span class="error-message" id="correo-error"></span>
                        </div>

                        <div class="form-group">
                            <label for="telefono">Teléfono</label>
                            <input
                                    type="tel"
                                    id="telefono"
                                    name="telefono"
                                    placeholder="+57 123 456 7890"
                                    required
                            >
                            <span class="error-message" id="telefono-error"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="cedula">Cédula</label>
                        <input
                                type="text"
                                id="cedula"
                                name="cedula"
                                placeholder="Número de cédula"
                                required
                        >
                        <span class="error-message" id="cedula-error"></span>
                    </div>

                    <div class="form-group">
                        <label for="password">Contraseña</label>
                        <div class="password-input">
                            <input
                                    type="password"
                                    id="password"
                                    name="password"
                                    placeholder="Crea una contraseña segura"
                                    required
                            >
                            <button type="button" class="password-toggle" id="togglePassword">
                                👁️
                            </button>
                        </div>
                        <div class="password-strength" id="passwordStrength">
                            <div class="strength-bar">
                                <div class="strength-fill"></div>
                            </div>
                            <span class="strength-text">Ingresa una contraseña</span>
                        </div>
                        <span class="error-message" id="password-error"></span>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">Confirmar Contraseña</label>
                        <input
                                type="password"
                                id="confirmPassword"
                                name="confirmPassword"
                                placeholder="Repite tu contraseña"
                                required
                        >
                        <span class="error-message" id="confirmPassword-error"></span>
                    </div>

                    <!-- Términos y condiciones -->
                    <div class="form-group checkbox-group">
                        <label class="checkbox-container">
                            <input type="checkbox" id="terms" name="terms" required>
                            <span class="checkmark"></span>
                            <span class="checkbox-text">
                                Acepto los <a href="/terminos" target="_blank">términos y condiciones</a>
                                y la <a href="/privacidad" target="_blank">política de privacidad</a>
                            </span>
                        </label>
                        <span class="error-message" id="terms-error"></span>
                    </div>

                    <!-- Botón de envío -->
                    <button type="submit" class="btn btn-primary btn-full" id="submitBtn">
                        <span class="btn-text">Crear Cuenta de Supervisor</span>
                        <div class="btn-loader" id="btnLoader">
                            <div class="spinner"></div>
                        </div>
                    </button>

                    <!-- Mensaje de resultado -->
                    <div class="form-message" id="formMessage"></div>
                </form>

                <button type="button" class="btn-back" id="backFromSupervisor">
                    ← Volver a selección
                </button>
            </div>

            <!-- Enlaces adicionales (solo visible en la selección inicial) -->
            <div class="auth-footer" id="authFooter">
                <div class="auth-links">
                    <p>¿Ya tienes una cuenta? <a href="/login.html">Iniciar sesión</a></p>
                    <p><a href="/public">Volver al inicio</a></p>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Scripts -->
<script src="/javascripts/registro.js"></script>

<style>
    /* Estilos adicionales para el nuevo diseño */
    .auth-main {
        width: 100%;
        max-width: 900px;
        margin: 0 auto;
        padding: 2rem;
    }

    .auth-container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .auth-card {
        width: 100%;
        max-width: 800px;
        background: #fff;
        padding: 2rem;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
    }

    .auth-form {
        width: 100%;
        max-width: 700px;
        margin: 0 auto;
    }

    .form-row {
        display: flex;
        justify-content: space-between;
        gap: 1.5rem;
    }

    .form-group {
        width: 100%;
        margin-bottom: 1.5rem;
    }

    .form-group label {
        font-weight: bold;
        margin-bottom: 0.5rem;
        display: block;
    }

    .form-group input {
        width: 100%;
        padding: 0.8rem;
        font-size: 1rem;
        border: 1px solid #ddd;
        border-radius: 5px;
    }

    .form-group input:focus {
        border-color: #3498db;
        outline: none;
    }

    .btn-back {
        background: none;
        border: 1px solid #bdc3c7;
        color: #7f8c8d;
        padding: 0.8rem 1.5rem;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        margin-top: 2rem;
        width: 100%;
    }

    .btn-back:hover {
        background: #f8f9fa;
        border-color: #95a5a6;
    }
</style>
</body>
</html>
